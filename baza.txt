CREATE TABLE Ucitelji (
    ID INTEGER AUTO_INCREMENT PRIMARY KEY,
    Ime VARCHAR(50) NOT NULL,
    Priimek VARCHAR(50) NOT NULL,
    Eposta VARCHAR(100) NOT NULL,
    Cena DECIMAL(5, 2) NOT NULL
);

CREATE TABLE Ucenci (
    ID INTEGER AUTO_INCREMENT PRIMARY KEY,
    Ime VARCHAR(50) NOT NULL,
    Priimek VARCHAR(50) NOT NULL,
    Eposta VARCHAR(100) NOT NULL
);

CREATE TABLE Predmeti (
    ID INTEGER AUTO_INCREMENT PRIMARY KEY,
    Ime_predmeta VARCHAR(100) NOT NULL
);

CREATE TABLE Instrukcije (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    Datum DATE NOT NULL,
    Cas TIME NOT NULL,
    Trajanje INTEGER NOT NULL, -- trajanje v minutah
    Status TEXT NOT NULL CHECK(Status IN ('rezervirano', 'opravljeno', 'preklicano')),
    ID_ucitelja INTEGER NOT NULL,
    ID_ucenca INTEGER NOT NULL,
    FOREIGN KEY (ID_ucitelja) REFERENCES Ucitelji(ID),
    FOREIGN KEY (ID_ucenca) REFERENCES Ucenci(ID)
);

CREATE TABLE UciteljiPredmeti (
    ID_ucitelja INTEGER NOT NULL,
    ID_predmeta INTEGER NOT NULL,
    PRIMARY KEY (ID_ucitelja, ID_predmeta),
    FOREIGN KEY (ID_ucitelja) REFERENCES Ucitelji(ID),
    FOREIGN KEY (ID_predmeta) REFERENCES Predmeti(ID)
);